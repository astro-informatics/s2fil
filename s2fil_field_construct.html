<HTML>
<HEAD>
   <TITLE> program s2fil_field_construct (generated by f90doc) </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> </HEAD>
<H1> Program s2fil_field_construct </H1>
<PRE>program s2fil_field_construct

        ! Uses
    use <A HREF="s2_types_mod.html">s2_types_mod</A>
    use <A HREF="s2_sky_mod.html">s2_sky_mod</A>
    use <A HREF="s2fil_error_mod.html">s2fil_error_mod</A>
    use <A HREF="s2fil_field_mod.html">s2fil_field_mod</A>

        ! Calls
    call parse_options
    call s2fil_error
    call s2fil_field_compute
    call s2fil_field_free
    call s2fil_field_io_fits_write

        ! Variables
    character (len=S2_STRING_LEN) :: <A HREF="s2fil_field_construct.html#var_filename_filter">filename_filter</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2fil_field_construct.html#var_filename_sky">filename_sky</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2fil_field_construct.html#var_filename_field">filename_field</A>
    character (len=S2_STRING_LEN) :: <A HREF="s2fil_field_construct.html#var_sky_file_type_str">sky_file_type_str</A>
    character (len=S2_STRING_LEN), parameter :: <A HREF="s2fil_field_construct.html#var_file_type_map">FILE_TYPE_MAP</A> = 'map'
    character (len=S2_STRING_LEN), parameter :: <A HREF="s2fil_field_construct.html#var_file_type_sky">FILE_TYPE_SKY</A> = 'sky'
    integer :: <A HREF="s2fil_field_construct.html#var_sky_file_type">sky_file_type</A> = S2_SKY_FILE_TYPE_MAP
    integer :: <A HREF="s2fil_field_construct.html#var_n_gamma">n_gamma</A> = 1
    type (s2fil_field) :: <A HREF="s2fil_field_construct.html#var_field">field</A>
    logical :: <A HREF="s2fil_field_construct.html#var_write_filter">write_filter</A> = .false.

        ! Subroutines and functions
    subroutine <A HREF="s2fil_field_construct.html#subroutine_parse_options">parse_options</A> ()

end program s2fil_field_construct
</PRE>
 Construct filtered field from optimal filter and data sky.
<P>
 Usage: s2fil_field_construct
   <UL>
   <LI>  [-help]: Display usage information.
   <LI>  [-filter filename_filter]: Name of optimal filter to read and to be 
     used to filter the data sky map.  Note that filter file header also
     contains names of associated child files that also contain filter 
     data to be read.  
   <LI>  [-data filename_sky]: Name of data sky fits file to read sky data from.
   <LI>  [-filetype sky_file_type_str]: String specifying type of data sky
     fits file, either 'map' or 'sky'.
   <LI>  [-field filename_field]: Name of field file to write.  Note field 
     data is also written to assocaited child files, the names of which
      are stored in the field file header.
   <LI>  [-ngamma n_gamma]: Number of orientations to consider when filtering.
   <LI>  [-write_filter write_filter]: Logical to specify whether to write 
     an optimal filter file as an associated child file of the s2fil field.
     This may not be necessary since the optimal filter will most likely be
     read from a file of this type and so to avoid duplication another
     need not be written.
   </UL>
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - April 2005

<HR><H2> Description of Variables </H2>
<A NAME="var_filename_filter"><H3>filename_filter</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_filter
</PRE>
<A NAME="var_filename_sky"><H3>filename_sky</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_sky
</PRE>
<A NAME="var_filename_field"><H3>filename_field</H3></A>
<PRE>character (len=S2_STRING_LEN) :: filename_field
</PRE>
<A NAME="var_sky_file_type_str"><H3>sky_file_type_str</H3></A>
<PRE>character (len=S2_STRING_LEN) :: sky_file_type_str
</PRE>
<A NAME="var_file_type_map"><H3>FILE_TYPE_MAP</H3></A>
<PRE>character (len=S2_STRING_LEN), parameter :: FILE_TYPE_MAP = 'map'
</PRE>
<A NAME="var_file_type_sky"><H3>FILE_TYPE_SKY</H3></A>
<PRE>character (len=S2_STRING_LEN), parameter :: FILE_TYPE_SKY = 'sky'
</PRE>
<A NAME="var_sky_file_type"><H3>sky_file_type</H3></A>
<PRE>integer :: sky_file_type = S2_SKY_FILE_TYPE_MAP
</PRE>
<A NAME="var_n_gamma"><H3>n_gamma</H3></A>
<PRE>integer :: n_gamma = 1
</PRE>
<A NAME="var_field"><H3>field</H3></A>
<PRE>type (s2fil_field) :: field
</PRE>
<A NAME="var_write_filter"><H3>write_filter</H3></A>
<PRE>logical :: write_filter = .false.
</PRE>

<HR><H2> Description of Subroutines and Functions </H2>
<A NAME="subroutine_parse_options"><H3>parse_options</H3></A>
<PRE>subroutine parse_options ()
    ! Calls: getArgument
end subroutine parse_options
</PRE>
 Parse the options passed when program called.
<P>
<STRONG>Author:</STRONG> J. D. McEwen (mcewen@mrao.cam.ac.uk)
<P>
<STRONG>Version:</STRONG> 0.1 - February 2005
</HTML>
